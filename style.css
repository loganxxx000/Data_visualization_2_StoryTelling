/* --- RESET Y BASES --- */
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  background-color: #f4f4f4;
  color: #333;
  overflow-x: hidden; /* Evita scroll horizontal accidental */
}

/* CAMBIO CLAVE 1: ELIMINAR EL CORSÉ 
   Antes tenías max-width: 1000px. Ahora permitimos que crezca.
*/
.app-container {
  width: 100%;
  max-width: 100% !important; 
  margin: 0;
  padding: 0;
}

#scrolly-teller-app {
  display: flex;
  flex-direction: row;
  width: 100%;
  position: relative;
}

/* --- COLUMNA IZQUIERDA: TEXTO (NARRACIÓN) --- */
.narration_list {
  /* CAMBIO CLAVE 2: ANCHO FIJO DE LECTURA
     En lugar de %, usamos medidas fijas para que sea legible 
     y deje el máximo espacio al gráfico.
  */
  width: 400px;       /* Ancho base ideal */
  min-width: 320px;   /* Que no sea muy estrecho en tablet */
  max-width: 30%;     /* Que no ocupe más del 30% en pantallas gigantes */
  
  padding: 5% 2%; 
  box-sizing: border-box;
  z-index: 10;
}

/* Las "tarjetas" de texto (Estado normal/inactivo) */
.narration {
  min-height: 90vh; 
  display: flex;
  flex-direction: column;
  justify-content: center;
  margin-bottom: 20px;
  
  /* CORRECCIÓN: */
  opacity: 0.8; /* Antes 0.3. Ahora se lee bien siempre */
  transform: scale(0.95); /* Un poco más pequeñas cuando no son protagonistas */
  transition: all 0.5s ease-out; /* Transición suave para todo */
  filter: grayscale(100%); /* Truco visual: texto grisáceo si no está activo */
}

.narration.active {
  opacity: 1;
  transform: scale(1); /* Crece a su tamaño normal */
  filter: grayscale(0%); /* Recupera el color */
  z-index: 20; /* Se pone por encima si se solapan */
}

.narration-content {
  background: white;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.08);
  border-left: 5px solid #2c3e50; 
}

.narration-content h2 {
  margin-top: 0;
  color: #2c3e50;
  font-size: 1.6rem;
}

.narration-content p {
  line-height: 1.6;
  font-size: 1rem;
  color: #444;
}

/* --- COLUMNA DERECHA: GRÁFICO (VISUALIZACIÓN) --- */
.graph_container {
  /* CAMBIO CLAVE 3: OCUPAR EL RESTO
     flex: 1 le dice al navegador: "Coge todo el espacio que sobre"
  */
  flex: 1; 
  height: 100vh;
  
  /* STICKY: Mantiene la imagen fija */
  position: -webkit-sticky;
  position: sticky;
  top: 0;
  
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #ffffff;
  border-left: 1px solid #e0e0e0;
  overflow: hidden; /* Evita que una imagen gigante rompa el layout */
}

/* --- SOPORTE PARA MÚLTIPLES IMÁGENES (GRID) --- */
#image-wrapper {
  width: 95%;
  height: 95%;
  display: flex;
  flex-wrap: wrap;       /* Permite que bajen de línea si hay muchas */
  justify-content: center;
  align-items: center;
  gap: 20px;             /* Espacio entre fotos */
  transition: opacity 0.5s ease;
}

/* ESTILO DE LAS IMÁGENES */
.scrolly-image {
  /* Dejamos que crezcan pero sin pasarse */
  width: auto;
  max-width: 100%;
  max-height: 90vh;
  
  object-fit: contain;
  box-shadow: 0 10px 40px rgba(0,0,0,0.15);
  border-radius: 8px;
  
  /* Animación suave de entrada */
  animation: fadeIn 0.8s ease forwards;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* --- RESPONSIVE (MÓVIL) --- */
@media (max-width: 768px) {
  #scrolly-teller-app {
    flex-direction: column-reverse; /* Gráfico arriba, texto abajo */
  }

  .narration_list {
    width: 100%;
    max-width: none;
    padding: 20px;
  }

  .graph_container {
    width: 100%;
    height: 50vh; /* En móvil, la imagen ocupa la mitad de la pantalla */
    position: sticky;
    top: 0;
    z-index: 100;
    border-bottom: 1px solid #ccc;
    background: #f9f9f9;
  }

  .scrolly-image {
    max-height: 45vh;
  }
}
